<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="–ï–≥–æ—Ä—ã—á ‚Äî —Ç–≤–æ–π —Ä–æ–¥–Ω–æ–π –Ω–µ–π—Ä–æ–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç."/>
  <title>–ï–≥–æ—Ä—ã—á</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ‚úÖ –ß–∞—Ç -->
  <div id="chat-wrapper" class="chat-wrapper">
    <div id="chat" class="chat-container">
      <!-- –ë–∞–±–ª—ã —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º -->
    </div>
  </div>

  <!-- ‚úÖ –ö–∞–º–µ—Ä–∞ -->
  <div id="cameraPreview" class="camera-preview">
    <video id="video" autoplay playsinline></video>
    <div class="camera-buttons">
      <button class="camera-btn" onclick="takePhoto()">üì∏</button>
      <button class="camera-btn" onclick="closeCamera()">‚ùå</button>
    </div>
  </div>

  <!-- ‚úÖ –ü—Ä–µ–≤—å—é —Ñ–∞–π–ª–∞ -->
  <div id="filePreview" class="file-preview" style="display: none;">
    <img id="fileThumb" src="" alt="–§–∞–π–ª" />
    <button id="removeFileBtn">‚ùå</button>
  </div>

  <!-- ‚úÖ –ò–Ω–ø—É—Ç -->
  <div class="input-container">
    <input id="textInput" type="text" placeholder="–ß—Ç–æ –Ω–∞ –¥—É—à–µ?" autocomplete="off" />
    <label for="fileInput" class="icon-clip">
      <img src="assets/ant-design_paper-clip-outlined.svg" alt="–°–∫—Ä–µ–ø–∫–∞" />
    </label>
    <input id="fileInput" type="file" style="display:none" />
    <img class="icon-camera" src="assets/fluent_camera.svg" alt="–ö–∞–º–µ—Ä–∞" onclick="openCamera()" />
    <div id="sendBtn" class="send-button">
      <img class="send-icon" src="assets/send-button.svg" alt="–û—Ç–ø—Ä–∞–≤–∏—Ç—å" />
    </div>
  </div>

  <!-- ‚úÖ –°–∫—Ä–∏–ø—Ç -->
  <script type="module" src="script.js"></script>

  <!-- ‚úÖ File Preview Logic -->
  <script>
    const fileInput = document.getElementById("fileInput");
    const filePreview = document.getElementById("filePreview");
    const fileThumb = document.getElementById("fileThumb");
    const removeFileBtn = document.getElementById("removeFileBtn");

    fileInput.addEventListener("change", () => {
      const file = fileInput.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = () => {
        fileThumb.src = reader.result;
        filePreview.style.display = "flex";
      };
      reader.readAsDataURL(file);
    });

    removeFileBtn.addEventListener("click", () => {
      fileInput.value = "";
      filePreview.style.display = "none";
      fileThumb.src = "";
    });
  </script>

</body>
</html>
